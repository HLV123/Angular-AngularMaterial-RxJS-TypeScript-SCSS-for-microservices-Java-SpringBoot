import { Injectable } from '@angular/core';
import { User, UserRole, Product, ProductCategory, Policy, PolicyStatus, Claim, ClaimStatus, Payment, PaymentMethod, Agent, Commission, Partner, Notification, DashboardStats, AuditLog } from '../models';

@Injectable({ providedIn: 'root' })
export class MockDataService {
  private users: { username: string; password: string; user: User }[] = [
    { username: 'customer@demo.com', password: 'Demo@123', user: { id:'U01', username:'customer@demo.com', email:'customer@demo.com', firstName:'Nguyễn Văn', lastName:'An', phone:'0901234567', roles:[UserRole.CUSTOMER], permissions:['policy.view','claim.submit','payment.make'], enabled:true, emailVerified:true, createdAt:'2024-01-15', lastLogin:'2024-06-10' }},
    { username: 'agent@demo.com', password: 'Demo@123', user: { id:'U02', username:'agent@demo.com', email:'agent@demo.com', firstName:'Trần Thị', lastName:'Bình', phone:'0912345678', roles:[UserRole.AGENT], permissions:['quote.create','policy.create','customer.manage','commission.view'], enabled:true, emailVerified:true, createdAt:'2023-06-01', lastLogin:'2024-06-10' }},
    { username: 'admin@demo.com', password: 'Demo@123', user: { id:'U03', username:'admin@demo.com', email:'admin@demo.com', firstName:'Lê Minh', lastName:'Cường', phone:'0923456789', roles:[UserRole.ADMIN,UserRole.SUPER_ADMIN], permissions:['*'], enabled:true, emailVerified:true, createdAt:'2023-01-01', lastLogin:'2024-06-10' }},
    { username: 'underwriter@demo.com', password: 'Demo@123', user: { id:'U04', username:'underwriter@demo.com', email:'underwriter@demo.com', firstName:'Phạm Thị', lastName:'Dung', phone:'0934567890', roles:[UserRole.UNDERWRITER], permissions:['policy.underwrite'], enabled:true, emailVerified:true, createdAt:'2023-03-15', lastLogin:'2024-06-10' }},
    { username: 'claims@demo.com', password: 'Demo@123', user: { id:'U05', username:'claims@demo.com', email:'claims@demo.com', firstName:'Hoàng Văn', lastName:'Em', phone:'0945678901', roles:[UserRole.CLAIMS_HANDLER], permissions:['claim.review','claim.approve'], enabled:true, emailVerified:true, createdAt:'2023-05-01', lastLogin:'2024-06-10' }},
    { username: 'partner@demo.com', password: 'Demo@123', user: { id:'U06', username:'partner@demo.com', email:'partner@demo.com', firstName:'BV Vinmec', lastName:'HCM', phone:'02839123456', roles:[UserRole.PARTNER], permissions:['eligibility.check','claim.submit'], enabled:true, emailVerified:true, createdAt:'2023-08-01', lastLogin:'2024-06-10' }},
    // Additional role accounts
    { username: 'sales@demo.com', password: 'Demo@123', user: { id:'U07', username:'sales@demo.com', email:'sales@demo.com', firstName:'Nguyễn Thị', lastName:'Hương', phone:'0967001001', roles:[UserRole.SALES_STAFF], permissions:['quote.create','policy.create','customer.view'], enabled:true, emailVerified:true, createdAt:'2023-09-01', lastLogin:'2024-06-10' }},
    { username: 'cs@demo.com', password: 'Demo@123', user: { id:'U08', username:'cs@demo.com', email:'cs@demo.com', firstName:'Trần Văn', lastName:'Hải', phone:'0967002002', roles:[UserRole.CUSTOMER_SERVICE], permissions:['customer.view','ticket.manage','policy.view'], enabled:true, emailVerified:true, createdAt:'2023-09-15', lastLogin:'2024-06-09' }},
    { username: 'accountant@demo.com', password: 'Demo@123', user: { id:'U09', username:'accountant@demo.com', email:'accountant@demo.com', firstName:'Lê Thị', lastName:'Thu', phone:'0967003003', roles:[UserRole.ACCOUNTANT], permissions:['payment.view','payment.reconcile','report.financial'], enabled:true, emailVerified:true, createdAt:'2023-10-01', lastLogin:'2024-06-10' }},
    { username: 'branch@demo.com', password: 'Demo@123', user: { id:'U10', username:'branch@demo.com', email:'branch@demo.com', firstName:'Phạm Quốc', lastName:'Tuấn', phone:'0967004004', roles:[UserRole.BRANCH_MANAGER], permissions:['agent.manage','report.branch','policy.view'], enabled:true, emailVerified:true, createdAt:'2023-06-01', lastLogin:'2024-06-10' }},
    { username: 'regional@demo.com', password: 'Demo@123', user: { id:'U11', username:'regional@demo.com', email:'regional@demo.com', firstName:'Võ Minh', lastName:'Đức', phone:'0967005005', roles:[UserRole.REGIONAL_MANAGER], permissions:['agent.manage','branch.manage','report.regional'], enabled:true, emailVerified:true, createdAt:'2023-03-01', lastLogin:'2024-06-10' }},
    { username: 'pm@demo.com', password: 'Demo@123', user: { id:'U12', username:'pm@demo.com', email:'pm@demo.com', firstName:'Đỗ Thị', lastName:'Linh', phone:'0967006006', roles:[UserRole.PRODUCT_MANAGER], permissions:['product.manage','product.approve','report.product'], enabled:true, emailVerified:true, createdAt:'2023-04-01', lastLogin:'2024-06-09' }},
    { username: 'compliance@demo.com', password: 'Demo@123', user: { id:'U13', username:'compliance@demo.com', email:'compliance@demo.com', firstName:'Hoàng Văn', lastName:'Khánh', phone:'0967007007', roles:[UserRole.COMPLIANCE_OFFICER], permissions:['audit.view','report.compliance','product.review'], enabled:true, emailVerified:true, createdAt:'2023-05-01', lastLogin:'2024-06-08' }}
  ];

  private products: Product[] = [
    { id:'PRD01', code:'HEALTH-001', name:'BH Sức khỏe Toàn diện', category:ProductCategory.HEALTH, shortDescription:'Bảo vệ sức khỏe toàn diện: nội trú, ngoại trú, bệnh hiểm nghèo, nha khoa.', description:'Sản phẩm bảo hiểm sức khỏe hàng đầu với quyền lợi chi trả chi phí y tế nội trú, ngoại trú, phẫu thuật, bệnh hiểm nghèo tại hơn 200 bệnh viện đối tác.', image:'assets/images/health-insurance.jpg', icon:'local_hospital', status:'ACTIVE', featured:true, rating:4.8, reviewCount:1250, minPremium:5000000, maxPremium:25000000, currency:'VND',
      plans:[
        { id:'PH1', name:'Bronze', tier:'BRONZE', sumInsured:100000000, premium:5500000, premiumMonthly:495000, recommended:false, description:'Gói cơ bản', benefits:[{name:'Nội trú',limit:'100 triệu/năm',description:'Phòng, giường, phẫu thuật',included:true},{name:'Ngoại trú',limit:'Không',description:'Khám ngoại trú',included:false},{name:'Bệnh hiểm nghèo',limit:'50 triệu',description:'Chi trả 1 lần',included:true},{name:'Cấp cứu',limit:'20 triệu',description:'24/7',included:true},{name:'Nha khoa',limit:'Không',description:'',included:false}]},
        { id:'PH2', name:'Silver', tier:'SILVER', sumInsured:300000000, premium:12000000, premiumMonthly:1080000, recommended:true, description:'Phổ biến nhất', benefits:[{name:'Nội trú',limit:'300 triệu/năm',description:'Phòng, giường, phẫu thuật',included:true},{name:'Ngoại trú',limit:'30 triệu/năm',description:'Khám ngoại trú',included:true},{name:'Bệnh hiểm nghèo',limit:'150 triệu',description:'Chi trả 1 lần',included:true},{name:'Cấp cứu',limit:'50 triệu',description:'24/7',included:true},{name:'Nha khoa',limit:'5 triệu',description:'Chăm sóc răng',included:true}]},
        { id:'PH3', name:'Gold', tier:'GOLD', sumInsured:1000000000, premium:22000000, premiumMonthly:1980000, recommended:false, description:'Cao cấp', benefits:[{name:'Nội trú',limit:'1 tỷ/năm',description:'VIP',included:true},{name:'Ngoại trú',limit:'100 triệu/năm',description:'Khám ngoại trú',included:true},{name:'Bệnh hiểm nghèo',limit:'500 triệu',description:'Chi trả 1 lần',included:true},{name:'Cấp cứu',limit:'200 triệu',description:'24/7 VIP',included:true},{name:'Nha khoa',limit:'20 triệu',description:'Chăm sóc răng',included:true}]}
      ], exclusions:['Bệnh có trước','Tự gây thương tích','Thẩm mỹ','HIV/AIDS','Nghiện'], eligibility:{minAge:1,maxAge:65,minTerm:12,maxTerm:60}, tags:['Sức khỏe','Gia đình'], createdAt:'2024-01-01', updatedAt:'2024-06-01' },
    { id:'PRD02', code:'LIFE-001', name:'BH Nhân thọ An Phúc Trường Tồn', category:ProductCategory.LIFE, shortDescription:'Bảo vệ tương lai gia đình với tích lũy dài hạn, cam kết lãi suất hấp dẫn.', description:'Kết hợp bảo vệ và tích lũy. Bảo đảm tài chính cho gia đình trong mọi hoàn cảnh.', image:'assets/images/life-insurance.jpg', icon:'favorite', status:'ACTIVE', featured:true, rating:4.7, reviewCount:890, minPremium:8500000, maxPremium:50000000, currency:'VND',
      plans:[
        { id:'PL1', name:'Tử kỳ 20 năm', tier:'BRONZE', sumInsured:500000000, premium:8500000, premiumMonthly:765000, recommended:false, description:'Phí thấp, bảo vệ tối đa', benefits:[{name:'Tử vong',limit:'500 triệu',description:'Chi trả khi tử vong',included:true},{name:'Thương tật',limit:'500 triệu',description:'100%',included:true},{name:'Tích lũy',limit:'Không',description:'',included:false},{name:'Miễn phí',limit:'Có',description:'Khi thương tật',included:true}]},
        { id:'PL2', name:'Hỗn hợp 20 năm', tier:'SILVER', sumInsured:500000000, premium:25000000, premiumMonthly:2250000, recommended:true, description:'Bảo vệ + Tích lũy', benefits:[{name:'Tử vong',limit:'500 triệu',description:'Chi trả khi tử vong',included:true},{name:'Thương tật',limit:'500 triệu',description:'100%',included:true},{name:'Tích lũy',limit:'100% + lãi',description:'Sống đến kỳ hạn',included:true},{name:'Miễn phí',limit:'Có',description:'Khi thương tật',included:true}]},
        { id:'PL3', name:'Trọn đời Platinum', tier:'PLATINUM', sumInsured:1000000000, premium:50000000, premiumMonthly:4500000, recommended:false, description:'Bảo vệ trọn đời', benefits:[{name:'Tử vong',limit:'1 tỷ',description:'Đến 99 tuổi',included:true},{name:'Thương tật',limit:'1 tỷ',description:'100%',included:true},{name:'Tích lũy',limit:'Cash value cao',description:'Tăng dần',included:true},{name:'Chia lãi',limit:'Hàng năm',description:'Cổ tức',included:true}]}
      ], exclusions:['Tự tử trong 2 năm đầu','Hoạt động nguy hiểm','Chiến tranh'], eligibility:{minAge:18,maxAge:60,minTerm:120,maxTerm:360}, tags:['Nhân thọ','Tích lũy'], createdAt:'2024-01-01', updatedAt:'2024-06-01' },
    { id:'PRD03', code:'MOTOR-001', name:'BH Xe Ô tô Toàn diện', category:ProductCategory.MOTOR, shortDescription:'TNDS bắt buộc, vật chất xe, tai nạn lái phụ xe. Mạng lưới 500+ gara.', description:'Gói bảo hiểm xe ô tô đầy đủ nhất: TNDS, vật chất toàn diện, cứu hộ 24/7.', image:'assets/images/car-insurance.jpg', icon:'directions_car', status:'ACTIVE', featured:true, rating:4.6, reviewCount:2100, minPremium:1200000, maxPremium:15000000, currency:'VND',
      plans:[
        { id:'PM1', name:'TNDS Bắt buộc', tier:'BRONZE', sumInsured:150000000, premium:1200000, premiumMonthly:0, recommended:false, description:'Theo luật', benefits:[{name:'Thiệt hại người',limit:'150 triệu/người',description:'Bên thứ 3',included:true},{name:'Thiệt hại tài sản',limit:'100 triệu/vụ',description:'Bên thứ 3',included:true},{name:'Vật chất xe',limit:'Không',description:'',included:false},{name:'Cứu hộ',limit:'Không',description:'',included:false}]},
        { id:'PM2', name:'Toàn diện Silver', tier:'SILVER', sumInsured:500000000, premium:8000000, premiumMonthly:720000, recommended:true, description:'TNDS + Vật chất xe', benefits:[{name:'Thiệt hại người',limit:'150 triệu/người',description:'',included:true},{name:'Thiệt hại tài sản',limit:'100 triệu/vụ',description:'',included:true},{name:'Vật chất xe',limit:'Theo giá trị',description:'Toàn diện',included:true},{name:'Cứu hộ 24/7',limit:'Có',description:'',included:true}]},
        { id:'PM3', name:'Toàn diện Gold', tier:'GOLD', sumInsured:1000000000, premium:15000000, premiumMonthly:1350000, recommended:false, description:'VIP', benefits:[{name:'Thiệt hại người',limit:'300 triệu/người',description:'',included:true},{name:'Thiệt hại tài sản',limit:'200 triệu/vụ',description:'',included:true},{name:'Vật chất xe',limit:'Toàn diện+Ngập',description:'',included:true},{name:'Cứu hộ VIP',limit:'Xe thay thế',description:'',included:true}]}
      ], exclusions:['Đua xe','Lái say rượu','Không bằng lái'], eligibility:{minAge:18,maxAge:70,minTerm:12,maxTerm:12}, tags:['Xe','TNDS'], createdAt:'2024-01-01', updatedAt:'2024-06-01' },
    { id:'PRD04', code:'PROP-001', name:'BH Nhà ở An Cư', category:ProductCategory.PROPERTY, shortDescription:'Cháy nổ, thiên tai, trộm cắp, trách nhiệm dân sự cho tổ ấm của bạn.', description:'Bảo hiểm toàn diện cho ngôi nhà và tài sản bên trong.', image:'assets/images/home-insurance.jpg', icon:'home', status:'ACTIVE', featured:false, rating:4.5, reviewCount:650, minPremium:500000, maxPremium:10000000, currency:'VND',
      plans:[
        { id:'PP1', name:'Cháy nổ cơ bản', tier:'BRONZE', sumInsured:500000000, premium:500000, premiumMonthly:45000, recommended:false, description:'Bắt buộc', benefits:[{name:'Cháy nổ',limit:'500 triệu',description:'',included:true},{name:'Sét đánh',limit:'500 triệu',description:'',included:true},{name:'Thiên tai',limit:'Không',description:'',included:false},{name:'Trộm cắp',limit:'Không',description:'',included:false}]},
        { id:'PP2', name:'Homeowner Silver', tier:'SILVER', sumInsured:2000000000, premium:4000000, premiumMonthly:360000, recommended:true, description:'Toàn diện', benefits:[{name:'Cháy nổ',limit:'2 tỷ',description:'Kết cấu+Nội thất',included:true},{name:'Thiên tai',limit:'1 tỷ',description:'Bão, lũ',included:true},{name:'Trộm cắp',limit:'200 triệu',description:'',included:true},{name:'Trách nhiệm',limit:'100 triệu',description:'Dân sự',included:true}]}
      ], exclusions:['Chiến tranh','Hao mòn','Lỗi thiết kế'], eligibility:{minAge:18,maxAge:99,minTerm:12,maxTerm:60}, tags:['Nhà','Cháy nổ'], createdAt:'2024-01-01', updatedAt:'2024-06-01' },
    { id:'PRD05', code:'TRAVEL-001', name:'BH Du lịch Toàn Cầu', category:ProductCategory.TRAVEL, shortDescription:'Đồng hành mọi chuyến đi: y tế, hành lý, hỗ trợ khẩn cấp 24/7.', description:'Bảo hiểm du lịch trong nước và quốc tế đầy đủ quyền lợi.', image:'assets/images/travel-insurance.jpg', icon:'flight', status:'ACTIVE', featured:true, rating:4.9, reviewCount:3200, minPremium:50000, maxPremium:850000, currency:'VND',
      plans:[
        { id:'PT1', name:'Trong nước', tier:'BRONZE', sumInsured:100000000, premium:80000, premiumMonthly:0, recommended:false, description:'Nội địa', benefits:[{name:'Tai nạn',limit:'100 triệu',description:'',included:true},{name:'Y tế',limit:'20 triệu',description:'',included:true},{name:'Hủy chuyến',limit:'100%',description:'',included:true},{name:'Hành lý',limit:'5 triệu',description:'',included:true}]},
        { id:'PT2', name:'Châu Á', tier:'SILVER', sumInsured:2500000000, premium:350000, premiumMonthly:0, recommended:true, description:'Khu vực Châu Á', benefits:[{name:'Tai nạn',limit:'$100,000',description:'',included:true},{name:'Y tế',limit:'$50,000',description:'',included:true},{name:'Evacuation',limit:'$30,000',description:'',included:true},{name:'Hành lý',limit:'$2,000',description:'',included:true}]},
        { id:'PT3', name:'Toàn cầu', tier:'GOLD', sumInsured:12500000000, premium:850000, premiumMonthly:0, recommended:false, description:'Bao gồm Mỹ', benefits:[{name:'Tai nạn',limit:'$500,000',description:'',included:true},{name:'Y tế',limit:'$200,000',description:'',included:true},{name:'Evacuation',limit:'$100,000',description:'',included:true},{name:'Hỗ trợ 24/7',limit:'Không giới hạn',description:'',included:true}]}
      ], exclusions:['Thể thao mạo hiểm','Bệnh có trước'], eligibility:{minAge:1,maxAge:80,minTerm:1,maxTerm:365}, tags:['Du lịch','Schengen'], createdAt:'2024-01-01', updatedAt:'2024-06-01' },
    { id:'PRD06', code:'ACC-001', name:'BH Tai nạn 24/7', category:ProductCategory.ACCIDENT, shortDescription:'Bảo vệ 24/7 trước tai nạn bất ngờ với phí cực hợp lý.', description:'Bảo hiểm tai nạn cá nhân chi trả tử vong, thương tật, y tế.', image:'assets/images/accident-insurance.jpg', icon:'health_and_safety', status:'ACTIVE', featured:false, rating:4.6, reviewCount:1800, minPremium:500000, maxPremium:3000000, currency:'VND',
      plans:[
        { id:'PA1', name:'Cơ bản', tier:'BRONZE', sumInsured:100000000, premium:600000, premiumMonthly:54000, recommended:false, description:'Bảo vệ cơ bản', benefits:[{name:'Tử vong',limit:'100 triệu',description:'',included:true},{name:'Thương tật',limit:'100 triệu',description:'Theo tỷ lệ',included:true},{name:'Y tế',limit:'10 triệu',description:'',included:true},{name:'Nằm viện',limit:'200k/ngày',description:'Max 60 ngày',included:true}]},
        { id:'PA2', name:'Nâng cao', tier:'SILVER', sumInsured:300000000, premium:1500000, premiumMonthly:135000, recommended:true, description:'Mở rộng', benefits:[{name:'Tử vong',limit:'300 triệu',description:'',included:true},{name:'Thương tật',limit:'300 triệu',description:'Theo tỷ lệ',included:true},{name:'Y tế',limit:'30 triệu',description:'',included:true},{name:'Nằm viện',limit:'500k/ngày',description:'Max 90 ngày',included:true}]}
      ], exclusions:['Tự gây thương tích','Mạo hiểm','Say rượu'], eligibility:{minAge:3,maxAge:65,minTerm:12,maxTerm:12}, tags:['Tai nạn','24/7'], createdAt:'2024-01-01', updatedAt:'2024-06-01' }
  ];

  private policies: Policy[] = [
    { id:'POL01', policyNumber:'IH-2024-HEALTH-00001', productId:'PRD01', productName:'BH Sức khỏe Toàn diện', productCategory:ProductCategory.HEALTH, planName:'Silver', customerId:'U01', customerName:'Nguyễn Văn An', agentId:'U02', agentName:'Trần Thị Bình', status:PolicyStatus.ACTIVE, sumInsured:300000000, premium:12000000, paymentFrequency:'ANNUAL', startDate:'2024-03-01', endDate:'2025-03-01', nextPaymentDate:'2025-03-01', beneficiaries:[{name:'Nguyễn Thị Hoa',relationship:'Vợ',percentage:60},{name:'Nguyễn Minh Tuấn',relationship:'Con',percentage:40}], endorsements:[], issuedAt:'2024-03-01', renewalDate:'2025-02-01', createdAt:'2024-02-28', updatedAt:'2024-06-01' },
    { id:'POL02', policyNumber:'IH-2024-MOTOR-00001', productId:'PRD03', productName:'BH Xe Ô tô Toàn diện', productCategory:ProductCategory.MOTOR, planName:'Toàn diện Silver', customerId:'U01', customerName:'Nguyễn Văn An', status:PolicyStatus.ACTIVE, sumInsured:500000000, premium:8000000, paymentFrequency:'ANNUAL', startDate:'2024-01-15', endDate:'2025-01-15', nextPaymentDate:'2025-01-15', beneficiaries:[], endorsements:[], issuedAt:'2024-01-15', renewalDate:'2024-12-15', createdAt:'2024-01-14', updatedAt:'2024-06-01' },
    { id:'POL03', policyNumber:'IH-2024-LIFE-00001', productId:'PRD02', productName:'BH Nhân thọ An Phúc Trường Tồn', productCategory:ProductCategory.LIFE, planName:'Hỗn hợp 20 năm', customerId:'U01', customerName:'Nguyễn Văn An', agentId:'U02', agentName:'Trần Thị Bình', status:PolicyStatus.ACTIVE, sumInsured:500000000, premium:25000000, paymentFrequency:'ANNUAL', startDate:'2024-04-01', endDate:'2044-04-01', nextPaymentDate:'2025-04-01', beneficiaries:[{name:'Nguyễn Thị Hoa',relationship:'Vợ',percentage:100}], endorsements:[], issuedAt:'2024-04-01', createdAt:'2024-03-30', updatedAt:'2024-06-01' },
    { id:'POL04', policyNumber:'IH-2024-TRAVEL-00001', productId:'PRD05', productName:'BH Du lịch Toàn Cầu', productCategory:ProductCategory.TRAVEL, planName:'Châu Á', customerId:'U01', customerName:'Nguyễn Văn An', status:PolicyStatus.EXPIRED, sumInsured:2500000000, premium:350000, paymentFrequency:'ANNUAL', startDate:'2024-05-01', endDate:'2024-05-15', nextPaymentDate:'', beneficiaries:[], endorsements:[], issuedAt:'2024-05-01', createdAt:'2024-04-30', updatedAt:'2024-05-15' },
    { id:'POL05', policyNumber:'IH-2024-ACC-00001', productId:'PRD06', productName:'BH Tai nạn 24/7', productCategory:ProductCategory.ACCIDENT, planName:'Nâng cao', customerId:'U01', customerName:'Nguyễn Văn An', status:PolicyStatus.ACTIVE, sumInsured:300000000, premium:1500000, paymentFrequency:'ANNUAL', startDate:'2024-02-01', endDate:'2025-02-01', nextPaymentDate:'2025-02-01', beneficiaries:[], endorsements:[], issuedAt:'2024-02-01', createdAt:'2024-01-30', updatedAt:'2024-06-01' },
    { id:'POL06', policyNumber:'IH-2024-PROP-00001', productId:'PRD04', productName:'BH Nhà ở An Cư', productCategory:ProductCategory.PROPERTY, planName:'Homeowner Silver', customerId:'U01', customerName:'Nguyễn Văn An', status:PolicyStatus.PENDING_PAYMENT, sumInsured:2000000000, premium:4000000, paymentFrequency:'ANNUAL', startDate:'2024-06-15', endDate:'2025-06-15', nextPaymentDate:'2024-06-15', beneficiaries:[], endorsements:[], issuedAt:'2024-06-10', createdAt:'2024-06-10', updatedAt:'2024-06-10' }
  ];

  private claims: Claim[] = [
    { id:'CLM01', claimNumber:'IH-CLM-2024-00001', policyId:'POL01', policyNumber:'IH-2024-HEALTH-00001', customerId:'U01', customerName:'Nguyễn Văn An', productCategory:ProductCategory.HEALTH, type:'OUTPATIENT', status:ClaimStatus.PAID, description:'Khám ngoại trú BV Vinmec - Viêm họng cấp', incidentDate:'2024-05-20', submissionDate:'2024-05-22', claimedAmount:2500000, approvedAmount:2200000, deductible:300000, documents:[{id:'D1',name:'Hóa đơn điều trị',type:'INVOICE',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true},{id:'D2',name:'Giấy chẩn đoán',type:'DIAGNOSIS',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true}], handler:'U05', handlerName:'Hoàng Văn Em', notes:[{author:'Hoàng Văn Em',content:'Hồ sơ hợp lệ, phê duyệt.',createdAt:'2024-05-23'}], fraudScore:5, timeline:[{status:'SUBMITTED',description:'Nộp hồ sơ online',timestamp:'2024-05-22T10:00:00Z',actor:'Nguyễn Văn An'},{status:'UNDER_REVIEW',description:'Đang thẩm định',timestamp:'2024-05-22T14:00:00Z',actor:'Hệ thống'},{status:'APPROVED',description:'Phê duyệt 2,200,000₫',timestamp:'2024-05-23T09:00:00Z',actor:'Hoàng Văn Em'},{status:'PAID',description:'Đã chuyển khoản',timestamp:'2024-05-24T10:00:00Z',actor:'Hệ thống'}], bankAccount:{bankName:'Vietcombank',accountNumber:'1234567890',accountHolder:'NGUYEN VAN AN'}, createdAt:'2024-05-22', updatedAt:'2024-05-24' },
    { id:'CLM02', claimNumber:'IH-CLM-2024-00002', policyId:'POL02', policyNumber:'IH-2024-MOTOR-00001', customerId:'U01', customerName:'Nguyễn Văn An', productCategory:ProductCategory.MOTOR, type:'VEHICLE_DAMAGE', status:ClaimStatus.UNDER_REVIEW, description:'Va chạm nhẹ khi đỗ xe - Trầy xước cản trước', incidentDate:'2024-06-05', submissionDate:'2024-06-06', claimedAmount:8500000, deductible:1000000, documents:[{id:'D3',name:'Ảnh thiệt hại 1',type:'PHOTO',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true},{id:'D4',name:'Ảnh thiệt hại 2',type:'PHOTO',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true},{id:'D5',name:'Báo giá gara',type:'ESTIMATE',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true}], handler:'U05', handlerName:'Hoàng Văn Em', notes:[], fraudScore:12, timeline:[{status:'SUBMITTED',description:'Nộp hồ sơ',timestamp:'2024-06-06T08:00:00Z',actor:'Nguyễn Văn An'},{status:'UNDER_REVIEW',description:'Đang thẩm định',timestamp:'2024-06-06T10:00:00Z',actor:'Hoàng Văn Em'}], bankAccount:{bankName:'Vietcombank',accountNumber:'1234567890',accountHolder:'NGUYEN VAN AN'}, createdAt:'2024-06-06', updatedAt:'2024-06-07' },
    { id:'CLM03', claimNumber:'IH-CLM-2024-00003', policyId:'POL01', policyNumber:'IH-2024-HEALTH-00001', customerId:'U01', customerName:'Nguyễn Văn An', productCategory:ProductCategory.HEALTH, type:'INPATIENT', status:ClaimStatus.APPROVED, description:'Nhập viện 3 ngày - Viêm phổi cấp tại BV FV', incidentDate:'2024-04-10', submissionDate:'2024-04-15', claimedAmount:25000000, approvedAmount:22000000, deductible:3000000, documents:[{id:'D6',name:'Hóa đơn BV',type:'INVOICE',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true},{id:'D7',name:'Bệnh án',type:'MEDICAL_RECORD',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true}], handler:'U05', handlerName:'Hoàng Văn Em', notes:[{author:'Hoàng Văn Em',content:'Nội trú 3 ngày, chi phí hợp lý.',createdAt:'2024-04-17'}], fraudScore:3, timeline:[{status:'SUBMITTED',description:'Nộp hồ sơ',timestamp:'2024-04-15T09:00:00Z',actor:'Nguyễn Văn An'},{status:'UNDER_REVIEW',description:'Thẩm định',timestamp:'2024-04-15T14:00:00Z',actor:'Hệ thống'},{status:'APPROVED',description:'Phê duyệt 22,000,000₫',timestamp:'2024-04-17T11:00:00Z',actor:'Hoàng Văn Em'}], bankAccount:{bankName:'Vietcombank',accountNumber:'1234567890',accountHolder:'NGUYEN VAN AN'}, createdAt:'2024-04-15', updatedAt:'2024-04-17' },
    { id:'CLM04', claimNumber:'IH-CLM-2024-00004', policyId:'POL05', policyNumber:'IH-2024-ACC-00001', customerId:'U01', customerName:'Nguyễn Văn An', productCategory:ProductCategory.ACCIDENT, type:'ACCIDENT', status:ClaimStatus.ADDITIONAL_INFO_REQUIRED, description:'Tai nạn khi chơi thể thao - Bong gân cổ chân', incidentDate:'2024-06-08', submissionDate:'2024-06-09', claimedAmount:3500000, deductible:0, documents:[{id:'D8',name:'Giấy khám',type:'DIAGNOSIS',fileName:'doc.pdf',uploadedAt:'2024-06-01',verified:true}], handler:'U05', handlerName:'Hoàng Văn Em', notes:[{author:'Hoàng Văn Em',content:'Cần bổ sung hóa đơn điều trị chi tiết.',createdAt:'2024-06-10'}], fraudScore:8, timeline:[{status:'SUBMITTED',description:'Nộp hồ sơ',timestamp:'2024-06-09T16:00:00Z',actor:'Nguyễn Văn An'},{status:'ADDITIONAL_INFO_REQUIRED',description:'Cần bổ sung hóa đơn',timestamp:'2024-06-10T10:00:00Z',actor:'Hoàng Văn Em'}], createdAt:'2024-06-09', updatedAt:'2024-06-10' }
  ];

  private payments: Payment[] = [
    { id:'PAY01', transactionId:'TXN-20240301-001', policyId:'POL01', policyNumber:'IH-2024-HEALTH-00001', customerId:'U01', amount:12000000, currency:'VND', method:PaymentMethod.E_WALLET_VNPAY, gateway:'VNPay', status:'SUCCESS', description:'Phí BH Sức khỏe năm 1', paidAt:'2024-03-01T14:30:00Z', createdAt:'2024-03-01' },
    { id:'PAY02', transactionId:'TXN-20240115-001', policyId:'POL02', policyNumber:'IH-2024-MOTOR-00001', customerId:'U01', amount:8000000, currency:'VND', method:PaymentMethod.BANK_TRANSFER, gateway:'Napas', status:'SUCCESS', description:'Phí BH Xe ô tô năm 1', paidAt:'2024-01-15T09:00:00Z', createdAt:'2024-01-15' },
    { id:'PAY03', transactionId:'TXN-20240401-001', policyId:'POL03', policyNumber:'IH-2024-LIFE-00001', customerId:'U01', amount:25000000, currency:'VND', method:PaymentMethod.CREDIT_CARD, gateway:'OnePay', status:'SUCCESS', description:'Phí BH Nhân thọ năm 1', paidAt:'2024-04-01T11:00:00Z', createdAt:'2024-04-01' },
    { id:'PAY04', transactionId:'TXN-20240501-001', policyId:'POL04', policyNumber:'IH-2024-TRAVEL-00001', customerId:'U01', amount:350000, currency:'VND', method:PaymentMethod.E_WALLET_MOMO, gateway:'Momo', status:'SUCCESS', description:'Phí BH Du lịch', paidAt:'2024-05-01T08:00:00Z', createdAt:'2024-05-01' },
    { id:'PAY05', transactionId:'TXN-20240201-001', policyId:'POL05', policyNumber:'IH-2024-ACC-00001', customerId:'U01', amount:1500000, currency:'VND', method:PaymentMethod.E_WALLET_ZALOPAY, gateway:'ZaloPay', status:'SUCCESS', description:'Phí BH Tai nạn năm 1', paidAt:'2024-02-01T10:00:00Z', createdAt:'2024-02-01' },
    { id:'PAY06', transactionId:'TXN-20240610-001', policyId:'POL06', policyNumber:'IH-2024-PROP-00001', customerId:'U01', amount:4000000, currency:'VND', method:PaymentMethod.BANK_TRANSFER, gateway:'Napas', status:'PENDING', description:'Phí BH Nhà ở - Chờ thanh toán', createdAt:'2024-06-10' }
  ];

  private agents: Agent[] = [
    { id:'A01', agentCode:'AG-001', fullName:'Trần Thị Bình', email:'agent@demo.com', phone:'0912345678', type:'EXCLUSIVE', level:'SENIOR', branchName:'HCM - Quận 1', status:'ACTIVE', totalPolicies:156, totalPremium:2850000000, totalCommission:427500000, monthlyTarget:500000000, monthlyAchieved:380000000, joinDate:'2022-03-15', clients:89 },
    { id:'A02', agentCode:'AG-002', fullName:'Nguyễn Hoàng Long', email:'long.nh@demo.com', phone:'0923456789', type:'EXCLUSIVE', level:'MANAGER', branchName:'HCM - Quận 3', status:'ACTIVE', totalPolicies:312, totalPremium:5200000000, totalCommission:1040000000, monthlyTarget:800000000, monthlyAchieved:720000000, joinDate:'2021-01-10', clients:178 },
    { id:'A03', agentCode:'AG-003', fullName:'Lê Thị Mai Anh', email:'maiAnh.lt@demo.com', phone:'0934567890', type:'BROKER', level:'DIRECTOR', branchName:'Hà Nội - Hoàn Kiếm', status:'ACTIVE', totalPolicies:520, totalPremium:9800000000, totalCommission:2450000000, monthlyTarget:1200000000, monthlyAchieved:1100000000, joinDate:'2020-06-01', clients:298 },
    { id:'A04', agentCode:'AG-004', fullName:'Phạm Văn Đức', email:'duc.pv@demo.com', phone:'0945678901', type:'EXCLUSIVE', level:'NEWBIE', branchName:'HCM - Quận 7', status:'ACTIVE', totalPolicies:23, totalPremium:420000000, totalCommission:63000000, monthlyTarget:200000000, monthlyAchieved:85000000, joinDate:'2024-01-15', clients:15 },
    { id:'A05', agentCode:'AG-005', fullName:'Võ Minh Tâm', email:'tam.vm@demo.com', phone:'0956789012', type:'FINANCIAL_ADVISOR', level:'SENIOR', branchName:'Đà Nẵng', status:'ACTIVE', totalPolicies:98, totalPremium:1650000000, totalCommission:330000000, monthlyTarget:400000000, monthlyAchieved:350000000, joinDate:'2022-08-20', clients:62 }
  ];

  private commissions: Commission[] = [
    { id:'COM01', agentId:'A01', policyNumber:'IH-2024-HEALTH-00001', customerName:'Nguyễn Văn An', productName:'BH Sức khỏe', type:'FIRST_YEAR', premium:12000000, rate:20, amount:2400000, status:'PAID', period:'2024-03', createdAt:'2024-03-05' },
    { id:'COM02', agentId:'A01', policyNumber:'IH-2024-LIFE-00001', customerName:'Nguyễn Văn An', productName:'BH Nhân thọ', type:'FIRST_YEAR', premium:25000000, rate:25, amount:6250000, status:'PAID', period:'2024-04', createdAt:'2024-04-05' },
    { id:'COM03', agentId:'A01', policyNumber:'IH-2024-HEALTH-00052', customerName:'Trần Văn Bé', productName:'BH Sức khỏe', type:'FIRST_YEAR', premium:22000000, rate:20, amount:4400000, status:'APPROVED', period:'2024-06', createdAt:'2024-06-05' },
    { id:'COM04', agentId:'A01', policyNumber:'IH-2023-LIFE-00015', customerName:'Lê Thị Hoa', productName:'BH Nhân thọ', type:'RENEWAL', premium:15000000, rate:7, amount:1050000, status:'PENDING', period:'2024-06', createdAt:'2024-06-01' },
    { id:'COM05', agentId:'A01', policyNumber:'IH-2024-MOTOR-00033', customerName:'Phạm Duy Khánh', productName:'BH Xe ô tô', type:'FIRST_YEAR', premium:15000000, rate:15, amount:2250000, status:'PAID', period:'2024-05', createdAt:'2024-05-10' }
  ];

  private partners: Partner[] = [
    { id:'PTN01', name:'BV Vinmec Central Park', type:'HOSPITAL', tier:'TIER_1', address:'208 Nguyễn Hữu Cảnh, Q.Bình Thạnh, HCM', phone:'02836221111', email:'info@vinmec.com', contactPerson:'BS. Nguyễn Thanh Tùng', status:'ACTIVE', directBilling:true, specialties:['Nội','Ngoại','Tim mạch','Ung bướu'], claimsHandled:1250, totalBilling:15800000000 },
    { id:'PTN02', name:'BV FV Hospital', type:'HOSPITAL', tier:'TIER_1', address:'6 Nguyễn Lương Bằng, Q.7, HCM', phone:'02854113333', email:'info@fvhospital.com', contactPerson:'BS. Trần Minh Đức', status:'ACTIVE', directBilling:true, specialties:['Đa khoa','Sản','Nhi','Mắt'], claimsHandled:980, totalBilling:12500000000 },
    { id:'PTN03', name:'BV Đa khoa Quốc tế Hồng Ngọc', type:'HOSPITAL', tier:'TIER_2', address:'55 Yên Ninh, Ba Đình, Hà Nội', phone:'02439271111', email:'info@hongngochospital.vn', contactPerson:'BS. Lê Văn Hùng', status:'ACTIVE', directBilling:true, specialties:['Đa khoa','Răng hàm mặt'], claimsHandled:650, totalBilling:7200000000 },
    { id:'PTN04', name:'Gara Ô tô Thành Công', type:'GARAGE', tier:'TIER_1', address:'123 Điện Biên Phủ, Q.3, HCM', phone:'02839876543', email:'thanhcong@garage.vn', contactPerson:'Nguyễn Văn Thành', status:'ACTIVE', directBilling:true, specialties:['Toyota','Honda','Mazda'], claimsHandled:450, totalBilling:5600000000 },
    { id:'PTN05', name:'Gara Auto King', type:'GARAGE', tier:'TIER_2', address:'456 Trường Chinh, Tân Bình, HCM', phone:'02838765432', email:'autoking@garage.vn', contactPerson:'Trần Đình Nam', status:'ACTIVE', directBilling:false, specialties:['Mercedes','BMW','Audi'], claimsHandled:280, totalBilling:8900000000 },
    { id:'PTN06', name:'Ngân hàng Vietcombank', type:'BANK', tier:'TIER_1', address:'198 Trần Quang Khải, Q.1, HCM', phone:'1900545413', email:'bancassurance@vcb.com.vn', contactPerson:'Nguyễn Thị Lan', status:'ACTIVE', directBilling:false, claimsHandled:0, totalBilling:0 }
  ];

  private notifications: Notification[] = [
    { id:'N01', userId:'U01', type:'SUCCESS', title:'Bồi thường CLM-001 đã chi trả', message:'2,200,000₫ đã chuyển vào TK Vietcombank.', link:'/claims/CLM01', read:false, createdAt:'2024-05-24T10:00:00Z', icon:'check_circle', color:'#4CAF50' },
    { id:'N02', userId:'U01', type:'WARNING', title:'HĐ xe ô tô sắp hết hạn', message:'IH-2024-MOTOR-00001 hết hạn 15/01/2025. Gia hạn trước 15/12/2024.', link:'/policies/POL02', read:false, createdAt:'2024-06-01T08:00:00Z', icon:'warning', color:'#FF9800' },
    { id:'N03', userId:'U01', type:'INFO', title:'Thanh toán 25 triệu thành công', message:'BH Nhân thọ - OnePay Credit Card.', link:'/payment', read:true, createdAt:'2024-04-01T11:05:00Z', icon:'payment', color:'#2196F3' },
    { id:'N04', userId:'U01', type:'INFO', title:'Cần bổ sung hồ sơ CLM-004', message:'Claims tai nạn cần thêm hóa đơn điều trị.', link:'/claims/CLM04', read:false, createdAt:'2024-06-10T10:05:00Z', icon:'info', color:'#FF9800' },
    { id:'N05', userId:'U01', type:'SUCCESS', title:'HĐ Nhà ở đã phát hành', message:'IH-2024-PROP-00001 chờ thanh toán 4,000,000₫.', link:'/policies/POL06', read:false, createdAt:'2024-06-10T09:00:00Z', icon:'description', color:'#4CAF50' },
    { id:'N06', userId:'U01', type:'INFO', title:'Khuyến mãi: Giảm 20% BH Du lịch', message:'Ưu đãi khách hàng thân thiết đến 30/06.', read:true, createdAt:'2024-06-05T07:00:00Z', icon:'local_offer', color:'#9C27B0' }
  ];

  private auditLogs: AuditLog[] = [
    { id:'AL01', username:'admin@demo.com', role:'ADMIN', action:'CREATE', entity:'Product', entityId:'PRD01', details:'Tạo sản phẩm BH Sức khỏe Toàn diện', ipAddress:'192.168.1.100', timestamp:'2024-01-01T08:00:00Z', status:'SUCCESS' },
    { id:'AL02', username:'agent@demo.com', role:'AGENT', action:'CREATE', entity:'Policy', entityId:'POL01', details:'Phát hành HĐ IH-2024-HEALTH-00001', ipAddress:'10.0.0.50', timestamp:'2024-03-01T14:00:00Z', status:'SUCCESS' },
    { id:'AL03', username:'customer@demo.com', role:'CUSTOMER', action:'SUBMIT', entity:'Claim', entityId:'CLM01', details:'Nộp yêu cầu bồi thường ngoại trú', ipAddress:'14.161.12.55', timestamp:'2024-05-22T10:00:00Z', status:'SUCCESS' },
    { id:'AL04', username:'claims@demo.com', role:'CLAIMS_HANDLER', action:'APPROVE', entity:'Claim', entityId:'CLM01', details:'Phê duyệt CLM-001: 2,200,000₫', ipAddress:'10.0.0.51', timestamp:'2024-05-23T09:00:00Z', status:'SUCCESS' },
    { id:'AL05', username:'admin@demo.com', role:'ADMIN', action:'UPDATE', entity:'User', entityId:'U02', details:'Cập nhật quyền đại lý AG-001', ipAddress:'192.168.1.100', timestamp:'2024-06-01T10:30:00Z', status:'SUCCESS' },
    { id:'AL06', username:'system', role:'SYSTEM', action:'PAYMENT', entity:'Payment', entityId:'PAY03', details:'Thanh toán 25,000,000₫ qua OnePay', ipAddress:'10.0.0.1', timestamp:'2024-04-01T11:00:00Z', status:'SUCCESS' },
    { id:'AL07', username:'underwriter@demo.com', role:'UNDERWRITER', action:'APPROVE', entity:'Policy', entityId:'POL03', details:'Phê duyệt underwriting HĐ Nhân thọ', ipAddress:'10.0.0.52', timestamp:'2024-03-30T15:00:00Z', status:'SUCCESS' },
    { id:'AL08', username:'partner@demo.com', role:'PARTNER', action:'QUERY', entity:'Eligibility', entityId:'POL01', details:'BV Vinmec tra cứu quyền lợi KH An', ipAddress:'203.113.152.10', timestamp:'2024-05-20T08:30:00Z', status:'SUCCESS' },
    { id:'AL09', username:'admin@demo.com', role:'ADMIN', action:'CONFIG', entity:'System', entityId:'SYS', details:'Cập nhật cấu hình email notification', ipAddress:'192.168.1.100', timestamp:'2024-06-05T16:00:00Z', status:'SUCCESS' },
    { id:'AL10', username:'customer@demo.com', role:'CUSTOMER', action:'LOGIN', entity:'Auth', entityId:'U01', details:'Đăng nhập thành công', ipAddress:'14.161.12.55', timestamp:'2024-06-10T10:30:00Z', status:'SUCCESS' }
  ];

  getDashboardStats(): DashboardStats {
    return {
      totalPolicies:45200, activePolicies:38500, totalPremium:125000000000, totalClaims:8900, pendingClaims:320, lossRatio:62.5, newPoliciesThisMonth:1250, premiumGrowth:23.5,
      monthlyPremium: [{label:'T1',value:8500},{label:'T2',value:9200},{label:'T3',value:11000},{label:'T4',value:10500},{label:'T5',value:12300},{label:'T6',value:13800},{label:'T7',value:12100},{label:'T8',value:11800},{label:'T9',value:14200},{label:'T10',value:15100},{label:'T11',value:13500},{label:'T12',value:16000}],
      claimsByCategory: [{label:'Sức khỏe',value:4200,color:'#4CAF50'},{label:'Nhân thọ',value:1200,color:'#2196F3'},{label:'Xe cơ giới',value:2100,color:'#FF9800'},{label:'Tài sản',value:600,color:'#9C27B0'},{label:'Du lịch',value:500,color:'#00BCD4'},{label:'Tai nạn',value:300,color:'#F44336'}],
      policyByStatus: [{label:'Active',value:38500,color:'#4CAF50'},{label:'Lapsed',value:2100,color:'#FFC107'},{label:'Expired',value:3600,color:'#9E9E9E'},{label:'Cancelled',value:1000,color:'#F44336'}],
      recentActivities: [{type:'policy',description:'HĐ IH-2024-HEALTH-05023 phát hành',timestamp:'2024-06-10T11:30:00Z',icon:'description',color:'#4CAF50'},{type:'claim',description:'CLM-2024-08901 đã duyệt chi trả',timestamp:'2024-06-10T10:45:00Z',icon:'check_circle',color:'#2196F3'},{type:'payment',description:'Nhận TT 15,000,000₫ từ Trần Văn B',timestamp:'2024-06-10T10:00:00Z',icon:'payment',color:'#FF9800'},{type:'agent',description:'Đại lý mới Lê Thị C đăng ký',timestamp:'2024-06-10T09:15:00Z',icon:'person_add',color:'#9C27B0'},{type:'fraud',description:'Phát hiện gian lận CLM-08888 (score:92)',timestamp:'2024-06-10T08:30:00Z',icon:'warning',color:'#F44336'},{type:'renewal',description:'15 HĐ gia hạn tự động thành công',timestamp:'2024-06-10T07:00:00Z',icon:'autorenew',color:'#009688'}],
      topAgents: [{name:'Lê Thị Mai Anh',premium:9800,achievement:92},{name:'Nguyễn Hoàng Long',premium:5200,achievement:90},{name:'Trần Thị Bình',premium:2850,achievement:76},{name:'Võ Minh Tâm',premium:1650,achievement:88},{name:'Phạm Văn Đức',premium:420,achievement:43}],
      topProducts: [{name:'BH Sức khỏe',policies:18500,premium:55000},{name:'BH Nhân thọ',policies:8200,premium:35000},{name:'BH Xe ô tô',policies:12000,premium:22000},{name:'BH Du lịch',policies:4500,premium:3000},{name:'BH Tai nạn',policies:1500,premium:5000}]
    };
  }

  // Notifications for ALL users
  private notificationsAll: Notification[] = [
    // Customer (U01) - 4 unread
    { id:'N01', userId:'U01', type:'SUCCESS', title:'Bồi thường CLM-001 đã chi trả', message:'2,200,000₫ đã chuyển vào TK Vietcombank.', link:'/claims/CLM01', read:false, createdAt:'2024-05-24T10:00:00Z', icon:'check_circle', color:'#4CAF50' },
    { id:'N02', userId:'U01', type:'WARNING', title:'HĐ xe ô tô sắp hết hạn', message:'IH-2024-MOTOR-00001 hết hạn 15/01/2025. Gia hạn trước 15/12/2024.', link:'/policies/POL02', read:false, createdAt:'2024-06-01T08:00:00Z', icon:'warning', color:'#FF9800' },
    { id:'N03', userId:'U01', type:'INFO', title:'Thanh toán 25 triệu thành công', message:'BH Nhân thọ - OnePay Credit Card.', link:'/payment', read:true, createdAt:'2024-04-01T11:05:00Z', icon:'payment', color:'#2196F3' },
    { id:'N04', userId:'U01', type:'INFO', title:'Cần bổ sung hồ sơ CLM-004', message:'Claims tai nạn cần thêm hóa đơn điều trị.', link:'/claims/CLM04', read:false, createdAt:'2024-06-10T10:05:00Z', icon:'info', color:'#FF9800' },
    { id:'N05', userId:'U01', type:'SUCCESS', title:'HĐ Nhà ở đã phát hành', message:'IH-2024-PROP-00001 chờ thanh toán 4,000,000₫.', link:'/policies/POL06', read:false, createdAt:'2024-06-10T09:00:00Z', icon:'description', color:'#4CAF50' },
    { id:'N06', userId:'U01', type:'INFO', title:'Khuyến mãi: Giảm 20% BH Du lịch', message:'Ưu đãi khách hàng thân thiết đến 30/06.', read:true, createdAt:'2024-06-05T07:00:00Z', icon:'local_offer', color:'#9C27B0' },
    // Agent (U02) - 3 unread
    { id:'N07', userId:'U02', type:'SUCCESS', title:'Hoa hồng 6.25 triệu đã duyệt', message:'HĐ IH-2024-LIFE-00001, tỷ lệ 25%.', link:'/agent/commission', read:false, createdAt:'2024-04-06T09:00:00Z', icon:'payments', color:'#4CAF50' },
    { id:'N08', userId:'U02', type:'INFO', title:'Lead mới: Phạm Văn Đức', message:'Quan tâm BH Sức khỏe Gold. SĐT: 0945678901.', link:'/agent/clients', read:false, createdAt:'2024-06-09T14:00:00Z', icon:'person_add', color:'#2196F3' },
    { id:'N09', userId:'U02', type:'WARNING', title:'Chưa đạt mục tiêu tháng', message:'Đạt 76% mục tiêu, còn 120 triệu nữa. Hết hạn 30/06.', read:false, createdAt:'2024-06-15T08:00:00Z', icon:'trending_down', color:'#FF9800' },
    { id:'N10', userId:'U02', type:'INFO', title:'Đào tạo SP mới: BH Cyber', message:'Tham gia khóa học online 20/06.', read:true, createdAt:'2024-06-08T10:00:00Z', icon:'school', color:'#9C27B0' },
    // Admin (U03) - 2 unread
    { id:'N11', userId:'U03', type:'WARNING', title:'Fraud alert: CLM-08888', message:'Fraud score 92/100. Cần điều tra ngay.', link:'/admin/claims', read:false, createdAt:'2024-06-10T08:30:00Z', icon:'warning', color:'#F44336' },
    { id:'N12', userId:'U03', type:'INFO', title:'15 HĐ gia hạn tự động', message:'Tổng phí thu: 185 triệu VND.', read:false, createdAt:'2024-06-10T07:00:00Z', icon:'autorenew', color:'#009688' },
    { id:'N13', userId:'U03', type:'SUCCESS', title:'Backup DB hoàn tất', message:'Daily backup PostgreSQL thành công.', read:true, createdAt:'2024-06-10T02:00:00Z', icon:'cloud_done', color:'#4CAF50' },
    // Underwriter (U04) - 3 unread
    { id:'N14', userId:'U04', type:'INFO', title:'3 hồ sơ chờ thẩm định', message:'Ưu tiên: 1 Nhân thọ 1 tỷ, 2 Sức khỏe.', link:'/underwriting', read:false, createdAt:'2024-06-10T08:00:00Z', icon:'assignment', color:'#2196F3' },
    { id:'N15', userId:'U04', type:'WARNING', title:'SLA sắp hết: APP-20240610', message:'Hồ sơ Nhân thọ còn 4h để xử lý.', link:'/underwriting', read:false, createdAt:'2024-06-10T14:00:00Z', icon:'alarm', color:'#FF9800' },
    { id:'N16', userId:'U04', type:'SUCCESS', title:'Auto-approve: 12 hồ sơ', message:'12 hồ sơ rủi ro thấp đã tự động duyệt sáng nay.', read:false, createdAt:'2024-06-10T07:30:00Z', icon:'check_circle', color:'#4CAF50' },
    // Claims Handler (U05) - 2 unread
    { id:'N17', userId:'U05', type:'INFO', title:'CLM mới: IH-CLM-2024-00002', message:'BT xe ô tô, yêu cầu 8.5 triệu. Cần thẩm định.', link:'/claims-handler', read:false, createdAt:'2024-06-06T10:00:00Z', icon:'assignment', color:'#2196F3' },
    { id:'N18', userId:'U05', type:'WARNING', title:'CLM-003 cần phê duyệt', message:'Nội trú 22 triệu, đã thẩm định xong.', link:'/claims-handler', read:false, createdAt:'2024-04-17T09:00:00Z', icon:'gavel', color:'#FF9800' },
    { id:'N19', userId:'U05', type:'SUCCESS', title:'Fraud check CLM-001: OK', message:'Score 5/100, không phát hiện bất thường.', read:true, createdAt:'2024-05-22T15:00:00Z', icon:'verified', color:'#4CAF50' },
    // Partner (U06) - 1 unread
    { id:'N20', userId:'U06', type:'INFO', title:'Yêu cầu bảo lãnh viện phí', message:'KH Nguyễn Văn An, HĐ HEALTH-00001, khám ngoại trú.', link:'/partner', read:false, createdAt:'2024-05-20T08:00:00Z', icon:'local_hospital', color:'#2196F3' },
    { id:'N21', userId:'U06', type:'SUCCESS', title:'Thanh toán direct billing', message:'3 hóa đơn tháng 5: tổng 45 triệu đã duyệt.', read:true, createdAt:'2024-06-01T10:00:00Z', icon:'payment', color:'#4CAF50' }
  ];

  // Leads for CRM
  private leads = [
    { id:'LD01', source:'Website', status:'NEW', firstName:'Vũ Minh', lastName:'Quang', email:'quang.vm@email.com', phone:'0967890123', interestedProducts:['BH Sức khỏe','BH Nhân thọ'], assignedTo:'U02', score:85, notes:'Đã điền form tư vấn, thu nhập >30 triệu', createdAt:'2024-06-09' },
    { id:'LD02', source:'Facebook Ads', status:'CONTACTED', firstName:'Đỗ Thị', lastName:'Lan', email:'lan.dt@email.com', phone:'0978901234', interestedProducts:['BH Du lịch'], assignedTo:'U02', score:60, notes:'Sắp đi Nhật 1 tuần', createdAt:'2024-06-08' },
    { id:'LD03', source:'Referral', status:'QUALIFIED', firstName:'Bùi Văn', lastName:'Sơn', email:'son.bv@email.com', phone:'0989012345', interestedProducts:['BH Xe ô tô','BH Tài sản'], assignedTo:'U02', score:92, notes:'Mới mua xe Camry + nhà mới. KH tiềm năng cao.', createdAt:'2024-06-05' },
    { id:'LD04', source:'Bancassurance', status:'PROPOSAL_SENT', firstName:'Trương Thị', lastName:'Hạnh', email:'hanh.tt@email.com', phone:'0990123456', interestedProducts:['BH Nhân thọ'], assignedTo:'U02', score:78, notes:'KH VCB, thu nhập 50 triệu, đã gửi báo giá Silver', createdAt:'2024-06-01' },
    { id:'LD05', source:'Walk-in', status:'WON', firstName:'Lý Văn', lastName:'Tài', email:'tai.lv@email.com', phone:'0901234999', interestedProducts:['BH Tai nạn'], assignedTo:'U02', score:100, notes:'Đã chốt gói Nâng cao, phát hành HĐ', createdAt:'2024-05-28' },
    { id:'LD06', source:'Website', status:'LOST', firstName:'Mai Thị', lastName:'Ngọc', email:'ngoc.mt@email.com', phone:'0912345999', interestedProducts:['BH Sức khỏe'], assignedTo:'U02', score:40, notes:'Phí cao hơn kỳ vọng, đã chọn đối thủ', createdAt:'2024-05-20' }
  ];

  // Underwriting queue
  private uwQueue = [
    { id:'UW01', applicationId:'APP-20240608-001', customerName:'Trần Văn Hưng', productName:'BH Nhân thọ Trọn đời', planName:'Platinum', sumInsured:1000000000, premium:50000000, riskLevel:'HIGH', riskScore:72, status:'PENDING_REVIEW', assignee:'U04', slaDeadline:'2024-06-12T17:00:00Z', healthDeclaration:{smoker:true,bmi:28,preConditions:['Tăng huyết áp']}, notes:'BMI cao, hút thuốc, tăng huyết áp - cần xem xét kỹ', submittedAt:'2024-06-08T09:00:00Z', agentName:'Trần Thị Bình' },
    { id:'UW02', applicationId:'APP-20240609-001', customerName:'Lê Thị Phượng', productName:'BH Sức khỏe Toàn diện', planName:'Gold', sumInsured:1000000000, premium:22000000, riskLevel:'MEDIUM', riskScore:45, status:'PENDING_REVIEW', assignee:'U04', slaDeadline:'2024-06-13T17:00:00Z', healthDeclaration:{smoker:false,bmi:22,preConditions:[]}, notes:'Tuổi 55, nữ, BMI tốt. Cần xem lịch sử khám.', submittedAt:'2024-06-09T11:00:00Z', agentName:'Nguyễn Hoàng Long' },
    { id:'UW03', applicationId:'APP-20240610-001', customerName:'Phạm Quốc Bảo', productName:'BH Nhân thọ An Phúc', planName:'Hỗn hợp 20 năm', sumInsured:500000000, premium:25000000, riskLevel:'LOW', riskScore:15, status:'AUTO_APPROVED', assignee:'System', slaDeadline:'2024-06-14T17:00:00Z', healthDeclaration:{smoker:false,bmi:23,preConditions:[]}, notes:'Rủi ro thấp, tuổi 32, sức khỏe tốt. Auto-approve.', submittedAt:'2024-06-10T08:00:00Z', agentName:'Trần Thị Bình' },
    { id:'UW04', applicationId:'APP-20240607-001', customerName:'Ngô Văn Toàn', productName:'BH Sức khỏe Toàn diện', planName:'Silver', sumInsured:300000000, premium:12000000, riskLevel:'MEDIUM', riskScore:55, status:'APPROVED_WITH_LOADING', assignee:'U04', slaDeadline:'2024-06-11T17:00:00Z', healthDeclaration:{smoker:true,bmi:25,preConditions:['Tiểu đường type 2']}, notes:'Tiểu đường type 2 - duyệt với phụ phí 30%', submittedAt:'2024-06-07T10:00:00Z', agentName:'Võ Minh Tâm' },
    { id:'UW05', applicationId:'APP-20240605-001', customerName:'Đặng Thị Hồng', productName:'BH Nhân thọ An Phúc', planName:'Tử kỳ 20 năm', sumInsured:500000000, premium:8500000, riskLevel:'HIGH', riskScore:88, status:'DECLINED', assignee:'U04', slaDeadline:'2024-06-09T17:00:00Z', healthDeclaration:{smoker:true,bmi:34,preConditions:['Ung thư giai đoạn 1']}, notes:'Tiền sử ung thư - từ chối theo guideline UW-001', submittedAt:'2024-06-05T14:00:00Z', agentName:'Lê Thị Mai Anh' }
  ];

  // Customer 360 data
  private customer360 = {
    customerId:'U01', fullName:'Nguyễn Văn An', segment:'GOLD', lifetimeValue:46850000, score:92,
    interactions:[
      {type:'CALL',date:'2024-06-08',note:'Hỏi về gia hạn BH xe',agent:'Trần Thị Bình'},
      {type:'EMAIL',date:'2024-06-05',note:'Gửi ưu đãi BH du lịch',agent:'System'},
      {type:'CLAIM',date:'2024-05-22',note:'Nộp BT ngoại trú',agent:'Self'},
      {type:'PORTAL',date:'2024-05-20',note:'Xem chi tiết HĐ sức khỏe',agent:'Self'},
      {type:'PAYMENT',date:'2024-04-01',note:'Thanh toán phí BH Nhân thọ 25 triệu',agent:'Self'}
    ],
    riskProfile:{healthRisk:'LOW',claimsFrequency:'MEDIUM',paymentHistory:'EXCELLENT',fraudRisk:'VERY_LOW'},
    crossSellOpportunities:['BH Nhà ở (chưa có)','Nâng cấp BH Xe lên Gold','BH Du lịch gia hạn'],
    summary:{totalPolicies:6,activePolicies:4,totalPremium:46850000,totalClaims:4,claimsPaid:2,pendingClaims:2}
  };

  // Payment schedule
  private paymentSchedule = [
    { policyNumber:'IH-2024-HEALTH-00001', productName:'BH Sức khỏe', premium:12000000, dueDate:'2025-03-01', status:'UPCOMING', daysUntil:265 },
    { policyNumber:'IH-2024-MOTOR-00001', productName:'BH Xe ô tô', premium:8000000, dueDate:'2025-01-15', status:'UPCOMING', daysUntil:220 },
    { policyNumber:'IH-2024-LIFE-00001', productName:'BH Nhân thọ', premium:25000000, dueDate:'2025-04-01', status:'UPCOMING', daysUntil:296 },
    { policyNumber:'IH-2024-ACC-00001', productName:'BH Tai nạn', premium:1500000, dueDate:'2025-02-01', status:'UPCOMING', daysUntil:237 },
    { policyNumber:'IH-2024-PROP-00001', productName:'BH Nhà ở', premium:4000000, dueDate:'2024-06-15', status:'OVERDUE', daysUntil:-5 }
  ];

  login(u: string, p: string) { const f = this.users.find(x => x.username === u && x.password === p); if (!f) return null; return { accessToken:'mock-jwt-'+f.user.id, refreshToken:'mock-ref-'+f.user.id, tokenType:'Bearer', expiresIn:3600, user:f.user }; }
  getUsers() { return this.users.map(u => u.user); }
  getProducts() { return this.products; }
  getProductById(id: string) { return this.products.find(p => p.id === id); }
  getProductsByCategory(c: ProductCategory) { return this.products.filter(p => p.category === c); }
  getFeaturedProducts() { return this.products.filter(p => p.featured); }
  getPolicies(cid?: string) { return cid ? this.policies.filter(p => p.customerId === cid) : this.policies; }
  getPolicyById(id: string) { return this.policies.find(p => p.id === id); }
  getClaims(cid?: string) { return cid ? this.claims.filter(c => c.customerId === cid) : this.claims; }
  getClaimById(id: string) { return this.claims.find(c => c.id === id); }
  getPayments(cid?: string) { return cid ? this.payments.filter(p => p.customerId === cid) : this.payments; }
  getAgents() { return this.agents; }
  getAgentById(id: string) { return this.agents.find(a => a.id === id); }
  getCommissions(aid?: string) { return aid ? this.commissions.filter(c => c.agentId === aid) : this.commissions; }
  getPartners() { return this.partners; }
  getNotifications(uid: string) { return this.notificationsAll.filter(n => n.userId === uid); }
  getUnreadCount(uid: string) { return this.notificationsAll.filter(n => n.userId === uid && !n.read).length; }
  getAuditLogs() { return this.auditLogs; }
  getAllUsers() { return this.users.map(u => ({...u.user, status: u.user.enabled ? 'Active' : 'Disabled'})); }
  getLeads() { return this.leads; }
  getUWQueue() { return this.uwQueue; }
  getCustomer360() { return this.customer360; }
  getPaymentSchedule() { return this.paymentSchedule; }
}
